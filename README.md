# –ó–∞–¥–∞—á–∞ 2-4: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

## –û–ø–∏—Å–∞–Ω–∏–µ
–§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –∑–∞–ø—É—Å–∫—É –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è Blog API.

## –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### –ë–∞–∑–æ–≤—ã–π URL
```
http://localhost:5050
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ—Å—Ç–æ–≤

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|-------|-----|----------|-----------|
| GET | `/posts` | –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã | - |
| GET | `/posts/{id}` | –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç –ø–æ ID | `id` - ID –ø–æ—Å—Ç–∞ |
| POST | `/posts` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç | JSON –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ |
| PUT | `/posts/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç | `id` - ID –ø–æ—Å—Ç–∞, JSON –≤ —Ç–µ–ª–µ |
| DELETE | `/posts/{id}` | –£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç | `id` - ID –ø–æ—Å—Ç–∞ |

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|-------|-----|----------|-----------|
| GET | `/posts/{id}/comments` | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É | `id` - ID –ø–æ—Å—Ç–∞ |
| POST | `/posts/{id}/comments` | –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –ø–æ—Å—Ç—É | `id` - ID –ø–æ—Å—Ç–∞, JSON –≤ —Ç–µ–ª–µ |
| GET | `/comments/{id}` | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ ID | `id` - ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è |
| PUT | `/comments/{id}` | –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | `id` - ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, JSON –≤ —Ç–µ–ª–µ |
| DELETE | `/comments/{id}` | –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | `id` - ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è |

## –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
```json
{
  "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Å—Ç–∞",
  "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞"
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
```json
{
  "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è",
  "author": "–ò–º—è –∞–≤—Ç–æ—Ä–∞"
}
```

### –û—Ç–≤–µ—Ç API
```json
{
  "success": true,
  "data": {
    "id": 1,
    "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫",
    "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ",
    "created_at": "2024-01-01T12:00:00",
    "updated_at": "2024-01-01T12:00:00"
  },
  "message": "–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"
}
```

## –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| 200 | –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å | GET, PUT |
| 201 | –†–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω | POST |
| 400 | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| 404 | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω | –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ID |
| 405 | –ú–µ—Ç–æ–¥ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω | –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π HTTP –º–µ—Ç–æ–¥ |
| 500 | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ | –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- pip

### 2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <repository-url>
cd LP_comm
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –î–ª—è –±–∞–∑–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ (1-1, 1-2, 1-3, 1-4)
pip install -r 1-1/requirements.txt

# –î–ª—è –≤–µ—Ä—Å–∏–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ (2-1, 2-2)
pip install -r 2-1/requirements.txt

# –î–ª—è –≤–µ—Ä—Å–∏–∏ —Å —Ç–µ—Å—Ç–∞–º–∏ (2-3)
pip install -r 2-3/requirements.txt
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –≤–µ—Ä—Å–∏—é
cd 1-1  # –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
cd 1-2  # –° –º–æ–¥–µ–ª—è–º–∏
cd 1-3  # –° CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
cd 1-4  # –° –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
cd 2-1  # –° –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
cd 2-2  # –° –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
cd 2-3  # –° —Ç–µ—Å—Ç–∞–º–∏

# –ó–∞–ø—É—Å–∫
python run.py
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
curl http://localhost:5050/
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
cd 2-3
pytest test_blog_api.py -v
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –≤—Ä—É—á–Ω—É—é
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
curl -X POST http://localhost:5050/posts \
  -H "Content-Type: application/json" \
  -d '{"title": "–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç", "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ—Å—Ç–∞"}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤
curl http://localhost:5050/posts

# –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
curl -X POST http://localhost:5050/posts/1/comments \
  -H "Content-Type: application/json" \
  -d '{"content": "–û—Ç–ª–∏—á–Ω—ã–π –ø–æ—Å—Ç!", "author": "–ê–ª–µ–∫—Å–µ–π"}'
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
LP_comm/
‚îú‚îÄ‚îÄ 1-1/                    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ 1-2/                    # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ 1-3/                    # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ 1-4/                    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ 2-1/                    # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
‚îú‚îÄ‚îÄ 2-2/                    # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ 2-3/                    # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ 2-4/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md              # –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –§—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–º–≤–æ–ª–æ–≤

### 2. –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫
- –£–¥–∞–ª–µ–Ω–∏–µ HTML —Ç–µ–≥–æ–≤
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ XSS –∞—Ç–∞–∫
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–ø–∞–º–∞

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Graceful error handling

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–π–ª –ª–æ–≥–æ–≤
```
blog_api.log
```

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **INFO**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- **WARNING**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **ERROR**: –û—à–∏–±–∫–∏

### –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤
```
2024-01-01 12:00:00,123 - __main__ - INFO - –ó–∞–ø—Ä–æ—Å: POST /posts –æ—Ç 127.0.0.1
2024-01-01 12:00:00,456 - __main__ - INFO - –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø–æ—Å—Ç —Å ID 1: –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ—Å—Ç
2024-01-01 12:00:00,789 - __main__ - WARNING - –ü–æ—Å—Ç —Å ID 999 –Ω–µ –Ω–∞–π–¥–µ–Ω
```

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
python run.py
```

### –ü—Ä–æ–¥–∞–∫—à–µ–Ω
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Gunicorn
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5050 app:app
```

### Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```dockerfile
FROM python:3.9-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt
COPY . .
EXPOSE 5050
CMD ["python", "run.py"]
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
```bash
curl http://localhost:5050/
```

### –õ–æ–≥–∏
```bash
tail -f blog_api.log
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Blog API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å:
- ‚úÖ –ü–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ó–∞—â–∏—Ç–æ–π –æ—Ç –∞—Ç–∞–∫
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –ü–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

**–ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ
